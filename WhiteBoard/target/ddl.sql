
    alter table announcement 
        drop constraint FK_f8mupkebjntypkykcw8u6j5bu if exists;

    alter table announcement 
        drop constraint FK_1rmyeh2ta991loishtjmc3l05 if exists;

    alter table assignment 
        drop constraint FK_5eyumr0i2ug4ms48we268lib6 if exists;

    alter table course 
        drop constraint FK_ps182hc66y3h1w7vrjwwo4rot if exists;

    alter table course_user 
        drop constraint FK_g8aemk037bkp123ao6vp4krdf if exists;

    alter table course_user 
        drop constraint FK_dawtehu1euwtuoftyhmvyqvf8 if exists;

    alter table course_user 
        drop constraint FK_6wip63opa4rlqpct416ttewiu if exists;

    alter table submission 
        drop constraint FK_ijm6a7eqv71w0c1j3cjv5r0an if exists;

    alter table submission 
        drop constraint FK_db8d422d38emxhhn37mce9h0h if exists;

    alter table submission 
        drop constraint FK_m2almb7pfdnphy42r4ncd40x2 if exists;

    alter table user_role 
        drop constraint FK_it77eq964jhfqtu54081ebtio if exists;

    alter table user_role 
        drop constraint FK_apcc8lxk2xnug8377fatvbn04 if exists;

    drop table announcement if exists;

    drop table assignment if exists;

    drop table course if exists;

    drop table course_user if exists;

    drop table role if exists;

    drop table submission if exists;

    drop table user if exists;

    drop table user_role if exists;

    create table announcement (
        id bigint generated by default as identity,
        version bigint not null,
        course_id bigint not null,
        creator_id bigint not null,
        doclink varchar(255) not null,
        text varchar(255) not null,
        title varchar(255) not null,
        viewable boolean not null,
        primary key (id)
    );

    create table assignment (
        id bigint generated by default as identity,
        version bigint not null,
        course_id bigint not null,
        doc_link varchar(255) not null,
        due_date timestamp not null,
        text varchar(255) not null,
        title varchar(255) not null,
        totalpoints integer not null,
        viewable boolean not null,
        primary key (id)
    );

    create table course (
        id bigint generated by default as identity,
        version bigint not null,
        description varchar(255) not null,
        name varchar(255) not null,
        teacher_id bigint not null,
        primary key (id)
    );

    create table course_user (
        course_tas_id bigint,
        user_id bigint,
        course_students_id bigint
    );

    create table role (
        id bigint generated by default as identity,
        version bigint not null,
        authority varchar(255) not null,
        primary key (id)
    );

    create table submission (
        id bigint generated by default as identity,
        version bigint not null,
        assignment_id bigint not null,
        course_id bigint not null,
        doc_link varchar(255) not null,
        grade integer not null,
        student_id bigint not null,
        primary key (id)
    );

    create table user (
        id bigint generated by default as identity,
        version bigint not null,
        account_expired boolean not null,
        account_locked boolean not null,
        enabled boolean not null,
        "password" varchar(255) not null,
        password_expired boolean not null,
        username varchar(255) not null,
        primary key (id)
    );

    create table user_role (
        role_id bigint not null,
        user_id bigint not null,
        primary key (role_id, user_id)
    );

    alter table role 
        add constraint UK_irsamgnera6angm0prq1kemt2  unique (authority);

    alter table user 
        add constraint UK_sb8bbouer5wak8vyiiy4pf2bx  unique (username);

    alter table announcement 
        add constraint FK_f8mupkebjntypkykcw8u6j5bu 
        foreign key (course_id) 
        references course;

    alter table announcement 
        add constraint FK_1rmyeh2ta991loishtjmc3l05 
        foreign key (creator_id) 
        references user;

    alter table assignment 
        add constraint FK_5eyumr0i2ug4ms48we268lib6 
        foreign key (course_id) 
        references course;

    alter table course 
        add constraint FK_ps182hc66y3h1w7vrjwwo4rot 
        foreign key (teacher_id) 
        references user;

    alter table course_user 
        add constraint FK_g8aemk037bkp123ao6vp4krdf 
        foreign key (user_id) 
        references user;

    alter table course_user 
        add constraint FK_dawtehu1euwtuoftyhmvyqvf8 
        foreign key (course_tas_id) 
        references course;

    alter table course_user 
        add constraint FK_6wip63opa4rlqpct416ttewiu 
        foreign key (course_students_id) 
        references course;

    alter table submission 
        add constraint FK_ijm6a7eqv71w0c1j3cjv5r0an 
        foreign key (assignment_id) 
        references assignment;

    alter table submission 
        add constraint FK_db8d422d38emxhhn37mce9h0h 
        foreign key (course_id) 
        references course;

    alter table submission 
        add constraint FK_m2almb7pfdnphy42r4ncd40x2 
        foreign key (student_id) 
        references user;

    alter table user_role 
        add constraint FK_it77eq964jhfqtu54081ebtio 
        foreign key (role_id) 
        references role;

    alter table user_role 
        add constraint FK_apcc8lxk2xnug8377fatvbn04 
        foreign key (user_id) 
        references user;
